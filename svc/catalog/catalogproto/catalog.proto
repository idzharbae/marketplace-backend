syntax = "proto3";

import "product.proto";
import "shop.proto";
import "base.proto";

package catalogproto;

service MarketplaceCatalog {
    // Product
    rpc ListProducts (ListProductsReq) returns (ListProductsResp) {}
    rpc GetProduct (GetProductReq) returns (Product) {}

    rpc CreateProduct (Product) returns (Product) {}
    rpc UpdateProduct (Product) returns (Product) {}
    rpc DeleteProduct (GetProductReq) returns (Empty) {}

    // Shop
    rpc ListShops(ListShopsReq) returns (ListShopsResp) {}
    rpc GetShop(GetShopReq) returns (Shop) {}

    rpc CreateShop(Shop) returns (Shop) {}
    rpc UpdateShop(Shop) returns (Shop) {}
    rpc DeleteShop(GetShopReq) returns(Empty) {}
}

message ListProductsReq {
    int32 shopID = 1;
    Pagination pagination = 2;
}

message ListProductsResp {
    repeated Product products = 1;
}

message GetProductReq {
    int32 id = 1;
    string slug = 2;
}

message PKReq {
    int32 id = 1;
}

message ListShopsReq {
    Pagination pagination = 1;
}

message ListShopsResp {
    repeated Shop shops = 1;
}

message GetShopReq {
    int32 id = 1;
    string slug = 2;
}